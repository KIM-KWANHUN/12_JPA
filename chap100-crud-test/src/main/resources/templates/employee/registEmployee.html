<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ì§ì›ë“±ë¡</title>
</head>
<body>
<h1 style="color: darkkhaki">ğŸ’ªì§ì› ë“±ë¡ í˜ì´ì§€ğŸ’ª</h1>
<form action="/employee/regist" method="post">
    <label>ì‹ ê·œ ì‚¬ì› ë²ˆí˜¸ : </label>
    <input type="number" name="empId"><br>
    <label>ì‹ ê·œ ì‚¬ì› ì´ë¦„ : </label>
    <input type="text" name="empName"><br>
    <label>ì‹ ê·œ ì‚¬ì› ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ : </label>
    <input type="number" name="empNo"><br>
    <label>ì‹ ê·œ ì‚¬ì› ì´ë©”ì¼ : </label>
    <input type="text" name="email"><br>
    <label>ì‹ ê·œ ì‚¬ì› íœ´ëŒ€í° : </label>
    <input type="number" name="phone"><br>
<!--    <label>ì‹ ê·œ ì‚¬ì› ë¶€ì„œ : </label>-->
<!--    <select name="deptCode" id="deptCode"></select><br>-->
    <label>ì‹ ê·œ ì‚¬ì› ì§ê¸‰ : </label>
    <select name="jobCode" id="jobCode"></select><br>
    <label>ì…ì‚¬ì¼ : </label>
    <input type="date" name="hireDate">
    <input type="submit" value="ì‹ ê·œì‚¬ì›ë“±ë¡">
</form>

<script>
        fetch("/employee/job")
        .then(res => res.json())
        .then(jobData => {
            const $jobCode = document.getElementById("jobCode");

            for(let index in jobData) {

                const $option = document.createElement("option");

                $option.value = jobData[index].jobCode;
                $option.textContent = jobData[index].jobCode;

                $jobCode.appendChild($option);
            }

        })

        fetch("/employee/dept")
        .then(resDept => resDept.json())
        .then(deptData => {
            const $deptCode = document.getElementById("deptCode")

            for(let index in deptData) {
                const $option = document.createElement("option")

                $option.value = deptData[index].deptCode;
                $option.textContent = deptData[index].deptId;
                $deptCode.appendChild($option);
            }
        })
</script>
</body>
</html>